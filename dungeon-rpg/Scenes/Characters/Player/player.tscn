[gd_scene load_steps=77 format=3 uid="uid://5rvva4g8xdid"]

[ext_resource type="Texture2D" uid="uid://db87u58yal717" path="res://Assets/Sprites/Characters/Player/Running/Running_001.png" id="1_4ol5w"]
[ext_resource type="Script" path="res://Scenes/Characters/Player/Player.cs" id="1_oaslo"]
[ext_resource type="Texture2D" uid="uid://c3pssio30a7yn" path="res://Assets/Sprites/Characters/Player/Running/Running_000.png" id="2_8b81y"]
[ext_resource type="Script" path="res://Scenes/Characters/Shared/StatResource.cs" id="2_a5s4b"]
[ext_resource type="Texture2D" uid="uid://bcvfxfm2h6lv6" path="res://Assets/Sprites/Characters/Player/Sliding/Sliding_005.png" id="2_fkga7"]
[ext_resource type="Texture2D" uid="uid://ba4jf6q4enia3" path="res://Assets/Sprites/Characters/Player/Slashing/Slashing_000.png" id="2_rnqne"]
[ext_resource type="Texture2D" uid="uid://e4p84n1g5kct" path="res://Assets/Sprites/Characters/Player/Idle Blinking/Idle Blinking_002.png" id="3_rg8bv"]
[ext_resource type="Texture2D" uid="uid://cm6mkonu3d7cx" path="res://Assets/Sprites/Characters/Player/Idle Blinking/Idle Blinking_001.png" id="4_l3tbn"]
[ext_resource type="Texture2D" uid="uid://pub4fla7j01p" path="res://Assets/Sprites/Characters/Player/Idle Blinking/Idle Blinking_003.png" id="5_qn4kq"]
[ext_resource type="Texture2D" uid="uid://0h2k2qgqt4vk" path="res://Assets/Sprites/Characters/Player/Idle Blinking/Idle Blinking_004.png" id="6_k3r4k"]
[ext_resource type="Texture2D" uid="uid://cwlqd54sl8ljt" path="res://Assets/Sprites/Characters/Player/Idle Blinking/Idle Blinking_005.png" id="7_bwp2x"]
[ext_resource type="Texture2D" uid="uid://dc2sj6t0h5smw" path="res://Assets/Sprites/Characters/Player/Idle Blinking/Idle Blinking_006.png" id="8_ekwob"]
[ext_resource type="Texture2D" uid="uid://g2ytan8devlx" path="res://Assets/Sprites/Characters/Player/Idle Blinking/Idle Blinking_008.png" id="9_sdo7s"]
[ext_resource type="Texture2D" uid="uid://b6sgl1gwd55or" path="res://Assets/Sprites/Characters/Player/Idle Blinking/Idle Blinking_007.png" id="9_x6q4b"]
[ext_resource type="Texture2D" uid="uid://pqho0c2hnj4r" path="res://Assets/Sprites/Characters/Player/Idle Blinking/Idle Blinking_009.png" id="10_qqyg1"]
[ext_resource type="Texture2D" uid="uid://05838kj8s0ia" path="res://Assets/Sprites/Characters/Player/Idle Blinking/Idle Blinking_010.png" id="11_8fkqx"]
[ext_resource type="Texture2D" uid="uid://fbxwl54vqout" path="res://Assets/Sprites/Characters/Player/Idle Blinking/Idle Blinking_011.png" id="12_8lycg"]
[ext_resource type="Texture2D" uid="uid://dmylrutkgjfyg" path="res://Assets/Sprites/Characters/Player/Idle Blinking/Idle Blinking_012.png" id="13_nxmgq"]
[ext_resource type="Texture2D" uid="uid://b5whoiqdwnbr1" path="res://Assets/Sprites/Characters/Player/Idle Blinking/Idle Blinking_013.png" id="14_c81ff"]
[ext_resource type="Texture2D" uid="uid://sf3o62hym8if" path="res://Assets/Sprites/Characters/Player/Idle Blinking/Idle Blinking_014.png" id="15_njv8r"]
[ext_resource type="Texture2D" uid="uid://w7o0mhjprik3" path="res://Assets/Sprites/Characters/Player/Idle Blinking/Idle Blinking_015.png" id="16_41f8o"]
[ext_resource type="Texture2D" uid="uid://bxjafgsk0hpdx" path="res://Assets/Sprites/Characters/Player/Idle Blinking/Idle Blinking_016.png" id="17_6e0br"]
[ext_resource type="Texture2D" uid="uid://ds3xsnj716tfg" path="res://Assets/Sprites/Characters/Player/Idle Blinking/Idle Blinking_017.png" id="18_sdh3o"]
[ext_resource type="Texture2D" uid="uid://jt54n43fbo35" path="res://Assets/Sprites/Characters/Player/Running/Running_002.png" id="20_otqgx"]
[ext_resource type="Texture2D" uid="uid://dn5ha1rivxsm4" path="res://Assets/Sprites/Characters/Player/Running/Running_003.png" id="21_xkvl1"]
[ext_resource type="Texture2D" uid="uid://bsobtdulbndnr" path="res://Assets/Sprites/Characters/Player/Running/Running_004.png" id="22_j6pd6"]
[ext_resource type="Texture2D" uid="uid://cc12l6lcif1ja" path="res://Assets/Sprites/Characters/Player/Running/Running_005.png" id="23_w02ih"]
[ext_resource type="Texture2D" uid="uid://dgpn0t1taxi2t" path="res://Assets/Sprites/Characters/Player/Running/Running_006.png" id="24_fesv8"]
[ext_resource type="Texture2D" uid="uid://bwlke43q4fqut" path="res://Assets/Sprites/Characters/Player/Running/Running_007.png" id="25_dol5e"]
[ext_resource type="Texture2D" uid="uid://cogky7xf38qf4" path="res://Assets/Sprites/Characters/Player/Running/Running_008.png" id="26_nfury"]
[ext_resource type="Texture2D" uid="uid://cgft02o4aggq3" path="res://Assets/Sprites/Characters/Player/Running/Running_009.png" id="27_ykono"]
[ext_resource type="Texture2D" uid="uid://d0bkheeah6ixp" path="res://Assets/Sprites/Characters/Player/Running/Running_010.png" id="28_ybucv"]
[ext_resource type="Texture2D" uid="uid://k4tlw4viy3b3" path="res://Assets/Sprites/Characters/Player/Running/Running_011.png" id="29_au2ts"]
[ext_resource type="Script" path="res://Scenes/Characters/Player/PlayerIdleState.cs" id="31_emon5"]
[ext_resource type="Texture2D" uid="uid://b862yt2bnpsiq" path="res://Assets/Sprites/Characters/Player/Sliding/Sliding_000.png" id="32_gtk6s"]
[ext_resource type="Script" path="res://Scenes/Characters/Player/PlayerMoveState.cs" id="32_yuqih"]
[ext_resource type="Texture2D" uid="uid://ciq4rvc562udq" path="res://Assets/Sprites/Characters/Player/Sliding/Sliding_001.png" id="33_2tbpe"]
[ext_resource type="Texture2D" uid="uid://bqwob713qqd65" path="res://Assets/Sprites/Characters/Player/Sliding/Sliding_002.png" id="34_ksydw"]
[ext_resource type="Texture2D" uid="uid://5nafurxl23cx" path="res://Assets/Sprites/Characters/Player/Sliding/Sliding_003.png" id="35_xvtyj"]
[ext_resource type="Texture2D" uid="uid://x2wkbp04i7l3" path="res://Assets/Sprites/Characters/Player/Sliding/Sliding_004.png" id="36_jare2"]
[ext_resource type="Texture2D" uid="uid://dhp2x2sviq5mx" path="res://Assets/Sprites/Characters/Player/Kicking/Kicking_000.png" id="37_foq7y"]
[ext_resource type="PackedScene" uid="uid://7rqtxh4xera6" path="res://Scenes/Characters/Shared/state_machine.tscn" id="37_qrptr"]
[ext_resource type="Texture2D" uid="uid://g7e8ucitpinf" path="res://Assets/Sprites/Characters/Player/Kicking/Kicking_001.png" id="38_6i7s0"]
[ext_resource type="Texture2D" uid="uid://cy7r34vqnjtgj" path="res://Assets/Sprites/Characters/Player/Kicking/Kicking_002.png" id="39_nxlij"]
[ext_resource type="Texture2D" uid="uid://cqx74g1ql26jr" path="res://Assets/Sprites/Characters/Player/Kicking/Kicking_003.png" id="40_pa7um"]
[ext_resource type="Script" path="res://Scenes/Characters/Player/PlayerDashState.cs" id="40_qpcmd"]
[ext_resource type="Texture2D" uid="uid://obq0dc74nttt" path="res://Assets/Sprites/Characters/Player/Kicking/Kicking_004.png" id="41_7nryf"]
[ext_resource type="Texture2D" uid="uid://ira8d0v8cyuh" path="res://Assets/Sprites/Characters/Player/Kicking/Kicking_005.png" id="42_y8c8k"]
[ext_resource type="Texture2D" uid="uid://dyswn3fby6dtt" path="res://Assets/Sprites/Characters/Player/Kicking/Kicking_006.png" id="43_1pvqv"]
[ext_resource type="Texture2D" uid="uid://ndqgya4nfirn" path="res://Assets/Sprites/Characters/Player/Kicking/Kicking_007.png" id="44_7a300"]
[ext_resource type="Texture2D" uid="uid://xik4ubniiql1" path="res://Assets/Sprites/Characters/Player/Kicking/Kicking_008.png" id="45_oilof"]
[ext_resource type="Texture2D" uid="uid://cpxhhnaeerf26" path="res://Assets/Sprites/Characters/Player/Kicking/Kicking_009.png" id="46_wiowl"]
[ext_resource type="Texture2D" uid="uid://ddfkgbx0y7rmb" path="res://Assets/Sprites/Characters/Player/Kicking/Kicking_010.png" id="47_2w8qc"]
[ext_resource type="Texture2D" uid="uid://c1jdpwdylw3s1" path="res://Assets/Sprites/Characters/Player/Kicking/Kicking_011.png" id="48_k3mgv"]
[ext_resource type="Texture2D" uid="uid://ibrifj527tha" path="res://Assets/Sprites/Characters/Player/Slashing/Slashing_001.png" id="50_aqu8p"]
[ext_resource type="Texture2D" uid="uid://dvvig08dxfj5" path="res://Assets/Sprites/Characters/Player/Slashing/Slashing_002.png" id="51_6v7nt"]
[ext_resource type="Texture2D" uid="uid://bfbwinjuohjcl" path="res://Assets/Sprites/Characters/Player/Slashing/Slashing_003.png" id="52_6xwln"]
[ext_resource type="Texture2D" uid="uid://bp5htxk7q471l" path="res://Assets/Sprites/Characters/Player/Slashing/Slashing_004.png" id="53_tv8a2"]
[ext_resource type="Texture2D" uid="uid://dg8vwtllc8p1l" path="res://Assets/Sprites/Characters/Player/Slashing/Slashing_005.png" id="54_00xna"]
[ext_resource type="Texture2D" uid="uid://go0vq6d0ers2" path="res://Assets/Sprites/Characters/Player/Slashing/Slashing_006.png" id="55_jqeun"]
[ext_resource type="Texture2D" uid="uid://d4e75mutt25au" path="res://Assets/Sprites/Characters/Player/Slashing/Slashing_007.png" id="56_knkxr"]
[ext_resource type="Texture2D" uid="uid://ba1w0bpxjvan4" path="res://Assets/Sprites/Characters/Player/Slashing/Slashing_008.png" id="57_4e4ml"]
[ext_resource type="Texture2D" uid="uid://c8fluwmtw3kev" path="res://Assets/Sprites/Characters/Player/Slashing/Slashing_009.png" id="58_omry5"]
[ext_resource type="Texture2D" uid="uid://y3w36s4lpje7" path="res://Assets/Sprites/Characters/Player/Slashing/Slashing_010.png" id="59_gt2p0"]
[ext_resource type="Texture2D" uid="uid://df2f8jkmwmdrv" path="res://Assets/Sprites/Characters/Player/Slashing/Slashing_011.png" id="60_548hk"]
[ext_resource type="Script" path="res://Scenes/Characters/Player/PlayerAttackState.cs" id="65_j6p3b"]

[sub_resource type="Resource" id="Resource_f0yfl"]
script = ExtResource("2_a5s4b")
StatType = 0
StatValue = 100.0

[sub_resource type="Resource" id="Resource_3px2v"]
script = ExtResource("2_a5s4b")
StatType = 1
StatValue = 3.0

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_bgq46"]
height = 1.46222

[sub_resource type="Animation" id="Animation_c12vl"]
resource_name = "attack_kick"
step = 0.0833333
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite3D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.0833333, 0.1721, 0.25, 0.333333, 0.416667, 0.5, 0.583333, 0.666667, 0.75, 0.833333, 0.916667),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [ExtResource("37_foq7y"), ExtResource("38_6i7s0"), ExtResource("39_nxlij"), ExtResource("40_pa7um"), ExtResource("41_7nryf"), ExtResource("42_y8c8k"), ExtResource("43_1pvqv"), ExtResource("44_7a300"), ExtResource("45_oilof"), ExtResource("46_wiowl"), ExtResource("47_2w8qc"), ExtResource("48_k3mgv")]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("StateMachine/AttackState")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.333333),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"PerformHit"
}]
}

[sub_resource type="Animation" id="Animation_xdx7v"]
resource_name = "attack_slash"
step = 0.0833333
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite3D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.0833333, 0.166667, 0.25, 0.333333, 0.416667, 0.5, 0.583333, 0.666667, 0.75, 0.833333, 0.916667),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [ExtResource("2_rnqne"), ExtResource("50_aqu8p"), ExtResource("51_6v7nt"), ExtResource("52_6xwln"), ExtResource("53_tv8a2"), ExtResource("54_00xna"), ExtResource("55_jqeun"), ExtResource("56_knkxr"), ExtResource("57_4e4ml"), ExtResource("58_omry5"), ExtResource("59_gt2p0"), ExtResource("60_548hk")]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("StateMachine/AttackState")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.25),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"PerformHit"
}]
}

[sub_resource type="Animation" id="Animation_4ts4e"]
resource_name = "dash"
step = 0.166667
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite3D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.166667, 0.333333, 0.5, 0.666667, 0.833333),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [ExtResource("32_gtk6s"), ExtResource("33_2tbpe"), ExtResource("34_ksydw"), ExtResource("35_xvtyj"), ExtResource("36_jare2"), ExtResource("2_fkga7")]
}

[sub_resource type="Animation" id="Animation_p1nh8"]
resource_name = "idle"
loop_mode = 1
step = 0.0555556
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite3D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.0555556, 0.111111, 0.166667, 0.222222, 0.277778, 0.333333, 0.388889, 0.444444, 0.5, 0.555556, 0.611111, 0.666667, 0.722222, 0.777778, 0.833333, 0.888889, 0.944444),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [ExtResource("3_rg8bv"), ExtResource("4_l3tbn"), ExtResource("3_rg8bv"), ExtResource("5_qn4kq"), ExtResource("6_k3r4k"), ExtResource("7_bwp2x"), ExtResource("8_ekwob"), ExtResource("9_x6q4b"), ExtResource("9_sdo7s"), ExtResource("10_qqyg1"), ExtResource("11_8fkqx"), ExtResource("12_8lycg"), ExtResource("13_nxmgq"), ExtResource("14_c81ff"), ExtResource("15_njv8r"), ExtResource("16_41f8o"), ExtResource("17_6e0br"), ExtResource("18_sdh3o")]
}

[sub_resource type="Animation" id="Animation_w8o6f"]
resource_name = "move"
loop_mode = 1
step = 0.0833333
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite3D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.166667, 0.25, 0.333333, 0.416667, 0.5, 0.583333, 0.666667, 0.75, 0.833333, 0.916667),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [ExtResource("2_8b81y"), ExtResource("1_4ol5w"), ExtResource("20_otqgx"), ExtResource("21_xkvl1"), ExtResource("22_j6pd6"), ExtResource("23_w02ih"), ExtResource("24_fesv8"), ExtResource("25_dol5e"), ExtResource("26_nfury"), ExtResource("27_ykono"), ExtResource("28_ybucv"), ExtResource("29_au2ts")]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_5u1t8"]
_data = {
"attack_kick": SubResource("Animation_c12vl"),
"attack_slash": SubResource("Animation_xdx7v"),
"dash": SubResource("Animation_4ts4e"),
"idle": SubResource("Animation_p1nh8"),
"move": SubResource("Animation_w8o6f")
}

[sub_resource type="BoxShape3D" id="BoxShape3D_sd22h"]
size = Vector3(0.5, 0.5, 0.5)

[node name="Player" type="CharacterBody3D" node_paths=PackedStringArray("Sprite", "AnimationPlayer", "StateMachine", "HitboxNode", "hitboxShapeNode")]
collision_layer = 2
collision_mask = 5
floor_max_angle = 1.55334
floor_snap_length = 0.2
script = ExtResource("1_oaslo")
Stats = Array[Object]([SubResource("Resource_f0yfl"), SubResource("Resource_3px2v")])
Sprite = NodePath("Sprite3D")
AnimationPlayer = NodePath("AnimationPlayer")
StateMachine = NodePath("StateMachine")
HitboxNode = NodePath("Hitbox")
hitboxShapeNode = NodePath("Hitbox/CollisionShape3D")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0312761, 0.0201632, 0)
shape = SubResource("CapsuleShape3D_bgq46")

[node name="Sprite3D" type="Sprite3D" parent="."]
pixel_size = 0.0025
texture_filter = 2
texture = ExtResource("52_6xwln")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_5u1t8")
}
autoplay = "idle"

[node name="StateMachine" parent="." node_paths=PackedStringArray("currentState", "states") instance=ExtResource("37_qrptr")]
currentState = NodePath("IdleState")
states = [NodePath("IdleState"), NodePath("MoveState"), NodePath("DashState")]

[node name="IdleState" type="Node" parent="StateMachine"]
script = ExtResource("31_emon5")

[node name="MoveState" type="Node" parent="StateMachine"]
script = ExtResource("32_yuqih")
speed = 15.0

[node name="DashState" type="Node" parent="StateMachine" node_paths=PackedStringArray("dashTimer")]
script = ExtResource("40_qpcmd")
dashSpeed = 20.0
dashTimer = NodePath("Timer")

[node name="Timer" type="Timer" parent="StateMachine/DashState"]
wait_time = 0.4
one_shot = true

[node name="AttackState" type="Node" parent="StateMachine" node_paths=PackedStringArray("comboResetTimer")]
script = ExtResource("65_j6p3b")
comboResetTimer = NodePath("Timer")

[node name="Timer" type="Timer" parent="StateMachine/AttackState"]
wait_time = 2.0
one_shot = true

[node name="Hitbox" type="Area3D" parent="."]
collision_layer = 2
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Hitbox"]
shape = SubResource("BoxShape3D_sd22h")
disabled = true

[connection signal="timeout" from="StateMachine/DashState/Timer" to="StateMachine/DashState" method="OnDashTimerTimeout"]
